{"ast":null,"code":"var _jsxFileName = \"/Users/arunaevan/Development/code/Mod3/final_project_2/src/Login.js\",\n    _s = $RefreshSig$();\n\n// Libraries\nimport { useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Login(_ref) {\n  _s();\n\n  let {\n    setSession,\n    history\n  } = _ref;\n  const [userLogin, setUserLogin] = useState({\n    email: \"\",\n    password: \"\"\n  });\n\n  function handleChange(e) {\n    setUserLogin({ ...userLogin,\n      [e.target.name]: e.target.value\n    });\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    findCurrentUser(userLogin);\n  }\n\n  function findCurrentUser(userLoginAttempt) {\n    const password = userLoginAttempt.password;\n    const email = userLoginAttempt.email;\n    fetch(`http://localhost:9292/users/${email}/${password}`).then(r => r.json()).then(user => {\n      console.log(user.calcHistory);\n      cookies.set('logInfo', {\n        logCheck: true,\n        name: user.name,\n        id: user.id,\n        calcHistory: user.calcHistory\n      });\n      console.log(cookies.get('logInfo'));\n      setLoggedIn(true);\n      history.push(`/user/${user.id}`);\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n      value: \"Email\",\n      children: [\"Email: \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 41\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"email\",\n        name: \"email\",\n        value: userLogin.email,\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 21\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 26\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      value: \"Password\",\n      children: [\"Password: \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 47\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"password\",\n        value: userLogin.password,\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 22\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 27\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"submit\",\n      value: \"Login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Login, \"c/PhpQgQTF2jw48OFUB6nbiUaII=\");\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["/Users/arunaevan/Development/code/Mod3/final_project_2/src/Login.js"],"names":["useState","Login","setSession","history","userLogin","setUserLogin","email","password","handleChange","e","target","name","value","handleSubmit","preventDefault","findCurrentUser","userLoginAttempt","fetch","then","r","json","user","console","log","calcHistory","cookies","set","logCheck","id","get","setLoggedIn","push"],"mappings":";;;AAAA;AACA,SAASA,QAAT,QAAyB,OAAzB;;;AAEA,SAASC,KAAT,OAAsC;AAAA;;AAAA,MAAvB;AAACC,IAAAA,UAAD;AAAaC,IAAAA;AAAb,GAAuB;AAElC,QAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BL,QAAQ,CAAC;AAAEM,IAAAA,KAAK,EAAE,EAAT;AAAaC,IAAAA,QAAQ,EAAE;AAAvB,GAAD,CAA1C;;AAEA,WAASC,YAAT,CAAsBC,CAAtB,EAAyB;AACrBJ,IAAAA,YAAY,CAAC,EAAC,GAAGD,SAAJ;AAAe,OAACK,CAAC,CAACC,MAAF,CAASC,IAAV,GAAiBF,CAAC,CAACC,MAAF,CAASE;AAAzC,KAAD,CAAZ;AACH;;AAED,WAASC,YAAT,CAAsBJ,CAAtB,EAAyB;AACrBA,IAAAA,CAAC,CAACK,cAAF;AACAC,IAAAA,eAAe,CAACX,SAAD,CAAf;AACH;;AAED,WAASW,eAAT,CAAyBC,gBAAzB,EAA2C;AACvC,UAAMT,QAAQ,GAAGS,gBAAgB,CAACT,QAAlC;AACA,UAAMD,KAAK,GAAGU,gBAAgB,CAACV,KAA/B;AACAW,IAAAA,KAAK,CAAE,+BAA8BX,KAAM,IAAGC,QAAS,EAAlD,CAAL,CACKW,IADL,CACUC,CAAC,IAAEA,CAAC,CAACC,IAAF,EADb,EAEKF,IAFL,CAEUG,IAAI,IAAI;AACVC,MAAAA,OAAO,CAACC,GAAR,CAAYF,IAAI,CAACG,WAAjB;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuB;AAACC,QAAAA,QAAQ,EAAE,IAAX;AAAiBhB,QAAAA,IAAI,EAAEU,IAAI,CAACV,IAA5B;AAAkCiB,QAAAA,EAAE,EAAEP,IAAI,CAACO,EAA3C;AAA+CJ,QAAAA,WAAW,EAAEH,IAAI,CAACG;AAAjE,OAAvB;AACAF,MAAAA,OAAO,CAACC,GAAR,CAAYE,OAAO,CAACI,GAAR,CAAY,SAAZ,CAAZ;AACAC,MAAAA,WAAW,CAAC,IAAD,CAAX;AACA3B,MAAAA,OAAO,CAAC4B,IAAR,CAAc,SAAQV,IAAI,CAACO,EAAG,EAA9B;AACH,KARL;AASH;;AAED,sBACI;AAAM,IAAA,QAAQ,EAAEf,YAAhB;AAAA,4BACI;AAAO,MAAA,KAAK,EAAC,OAAb;AAAA,yCAA4B;AAAA;AAAA;AAAA;AAAA,cAA5B,eACI;AAAO,QAAA,IAAI,EAAC,OAAZ;AAAoB,QAAA,IAAI,EAAC,OAAzB;AAAiC,QAAA,KAAK,EAAET,SAAS,CAACE,KAAlD;AAAyD,QAAA,QAAQ,EAAEE;AAAnE;AAAA;AAAA;AAAA;AAAA,cADJ;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ,eAGY;AAAA;AAAA;AAAA;AAAA,YAHZ,eAGiB;AAAA;AAAA;AAAA;AAAA,YAHjB,eAII;AAAO,MAAA,KAAK,EAAC,UAAb;AAAA,4CAAkC;AAAA;AAAA;AAAA;AAAA,cAAlC,eACI;AAAO,QAAA,IAAI,EAAC,MAAZ;AAAmB,QAAA,IAAI,EAAC,UAAxB;AAAmC,QAAA,KAAK,EAAEJ,SAAS,CAACG,QAApD;AAA8D,QAAA,QAAQ,EAAEC;AAAxE;AAAA;AAAA;AAAA;AAAA,cADJ;AAAA;AAAA;AAAA;AAAA;AAAA,YAJJ,oBAMa;AAAA;AAAA;AAAA;AAAA,YANb,eAMkB;AAAA;AAAA;AAAA;AAAA,YANlB,eAOI;AAAO,MAAA,IAAI,EAAC,QAAZ;AAAqB,MAAA,KAAK,EAAC;AAA3B;AAAA;AAAA;AAAA;AAAA,YAPJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAYH;;GAvCQP,K;;KAAAA,K;AAyCT,eAAeA,KAAf","sourcesContent":["// Libraries\nimport { useState } from \"react\";\n\nfunction Login({setSession, history}) {\n\n    const [userLogin, setUserLogin] = useState({ email: \"\", password: \"\" })\n\n    function handleChange(e) {\n        setUserLogin({...userLogin, [e.target.name]: e.target.value})\n    }\n\n    function handleSubmit(e) {\n        e.preventDefault()\n        findCurrentUser(userLogin)\n    }\n\n    function findCurrentUser(userLoginAttempt) {\n        const password = userLoginAttempt.password;\n        const email = userLoginAttempt.email;\n        fetch(`http://localhost:9292/users/${email}/${password}`)\n            .then(r=>r.json())\n            .then(user => {\n                console.log(user.calcHistory)\n                cookies.set('logInfo', {logCheck: true, name: user.name, id: user.id, calcHistory: user.calcHistory})\n                console.log(cookies.get('logInfo'))\n                setLoggedIn(true);\n                history.push(`/user/${user.id}`)\n            })\n    }\n\n    return(\n        <form onSubmit={handleSubmit}>\n            <label value=\"Email\">Email: <br/>\n                <input type=\"email\" name=\"email\" value={userLogin.email} onChange={handleChange} />\n            </label><br/><br/>\n            <label value=\"Password\">Password: <br/>\n                <input type=\"text\" name=\"password\" value={userLogin.password} onChange={handleChange} />\n            </label> <br/><br/>\n            <input type=\"submit\" value=\"Login\"/>\n\n        </form>\n    )\n}\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}